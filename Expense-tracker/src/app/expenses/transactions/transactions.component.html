<div class=" text-center">
    <h1 class="text-info">All Transaction</h1>

    <table class="table table-bordered">
        <tr>
            <td *ngFor="let head of headers">{{head}}</td>
            <td> 
                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#transactionModal">
                + Add Transaction
                </button>
            </td>
        </tr>
        <tr *ngFor="let item of allTransactions">
            <td>{{item.id}}</td>
            <td>{{item.userId}}</td>
            <td>{{item.amount}}</td>
            <td>{{item.date}}</td>
            <td>{{item.category}}</td>
            <td>{{item.description}}</td>
            <td>
                <button class="btn btn-warning" (click)="onEdit(item)" data-bs-toggle="modal" data-bs-target="#transactionModal">Edit</button>
                <button class="btn btn-dark" (click)="onDelete(item)">Delete</button>
            </td>
        </tr>
    </table>

    <!-- Modal -->
    <div class="modal fade" id="transactionModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

        <div class="modal-header">
            <h5 class="modal-title">Transaction Form</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

            <form [formGroup]="transactionForm" (ngSubmit)="onAdd()">
            <div class="modal-body">

                <input type="hidden" name="id"   formControlName="id" class="form-control">
            
                <label for="famount">Amount</label>
                <input type="number" name="amount" id="famount"  formControlName="amount" class="form-control">

                <label for="fdate">Date</label>
                <input type="date" name="date" id="fdate" formControlName="date" class="form-control">

                <label for="fcategory">Category</label>
            <select name="category" id="fcategory" formControlName="category" class="form-select">
                    <option>Income</option>
                    <option>Expense</option>
            </select>

                <label For="fdescription">Description</label>
                <input type="text" name="description" id="fdescription" formControlName="description" class="form-control">
            
            </div>

            <div class="modal-footer">
            <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save</button>
            <button type="button" class="btn btn-warning" data-bs-dismiss="modal" (click)="onUpdate()" >Update</button>
            </div>
    
            </form>
        </div>
    </div>
    </div>
</div>
